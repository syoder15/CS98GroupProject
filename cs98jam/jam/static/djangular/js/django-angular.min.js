// AUTOGENERATED FILE - DO NOT EDIT!
// django-angular - v0.7.0 - 2014-09-25
// https://github.com/jrief/django-angular
// Copyright (c) 2014 Jacob Rief; Licensed MIT
!function(a,b){"use strict";function c(a){return a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)}var d=a.module("ng.django.forms",[]);d.directive("input",["$compile",function(b){return{restrict:"E",require:"?^form",link:function(d,e,f,g){var h;!g||a.isUndefined(g.$name)||"hidden"===e.prop("type")||a.isUndefined(f.name)||a.isDefined(f.ngModel)||(h="dmy"+Math.abs(c(g.$name))+"."+f.name,f.$set("ngModel",h),b(e,null,9999)(d))}}}]),d.directive("djngError",function(){return{restrict:"A",require:"?^form",link:function(b,c,d,e){var f;e&&!a.isUndefined(d.name)&&"bound-field"===d.djngError&&(f=e[d.name],f.$setValidity("bound",!1),f.$parsers.push(function(){f.$setValidity("bound",!0),c.removeAttr("djng-error")}))}}}),d.directive("ngModel",function(){function b(a,b){switch(b.type){case"radio":b.defaultChecked&&a.$setViewValue(b.defaultValue);break;case"checkbox":b.defaultChecked&&a.$setViewValue(!0);break;case"password":a.$setViewValue(null);break;default:b.defaultValue&&a.$setViewValue(b.defaultValue)}}function c(b,c){var d=[];a.forEach(c.options,function(e){e.defaultSelected&&(a.element(e).prop("selected","selected"),c.multiple?d.push(e.value):b.$setViewValue(e.value))}),c.multiple&&b.$setViewValue(d)}function d(a,b){b.defaultValue&&a.$setViewValue(b.defaultValue)}return{restrict:"A",priority:1,require:["ngModel","^?form"],link:function(e,f,g,h){var i=a.isElement(f)?f[0]:null,j=h[0],k=h[1]||null;if(i&&k){switch(i.tagName){case"INPUT":b(j,i);break;case"SELECT":c(j,i);break;case"TEXTAREA":d(j,i);break;default:console.log("Unknown field type")}k.$setPristine()}}}}),d.directive("validateMultipleFields",function(){return{restrict:"A",require:"^?form",link:function(b,c,d,e){function f(b){var c=!1;a.forEach(i,function(a){c=c||a.checked}),g.$setValidity("required",c),b&&a.isString(h)&&(g[h].$dirty=!0,g[h].$pristine=!1)}var g,h,i=[];if(e){g=e;try{h=a.fromJson(d.validateMultipleFields)}catch(j){h=d.validateMultipleFields}a.forEach(c.find("input"),function(a){h.indexOf(a.name)>=0&&i.push(a)}),c.on("change",f),f()}}}}),d.directive("validateDate",function(){function a(a){var b,d;return a?(d=new Date(a),isNaN(d)?!1:c?(b=c.exec(a),b&&parseInt(b[2])===d.getMonth()+1):!0):!0}var c=null;return{require:"?ngModel",restrict:"A",link:function(d,e,f,g){if(g){f.validateDate&&(c=new RegExp(f.validateDate,"i"));var h=function(c){var d=g.$isEmpty(c)||a(c);return g.$setValidity("date",d),d?c:b};g.$parsers.push(h)}}}}),d.factory("djangoForm",function(){function c(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function d(a){a.rejectedListenerPos=a.$viewChangeListeners.push(function(){a.$setValidity("rejected",!0),a.$viewChangeListeners.splice(a.rejectedListenerPos,1),delete a.rejectedListenerPos})-1}var e="__all__";return{setErrors:function(f,g){return f.$message="",f.$error.hasOwnProperty("rejected")&&a.forEach(f.$error.rejected,function(a){var c,d=a.$name;f.hasOwnProperty(d)&&(c=f[d],c.$message="",c.$setValidity("rejected",!0),c.rejectedListenerPos!==b&&(c.$viewChangeListeners.splice(c.rejectedListenerPos,1),delete c.rejectedListenerPos))}),a.forEach(g,function(b,c){var g;b.length>0&&(c===e?(f.$message=b[0],f.$setPristine()):f.hasOwnProperty(c)&&(g=f[c],g.$message=b[0],g.$setValidity("rejected",!1),g.$setPristine(),a.isArray(g.$viewChangeListeners)?d(g):a.forEach(g,function(b){a.isArray(b.$viewChangeListeners)&&d(b)})))}),c(g)}}})}(window.angular),function(a,b){"use strict";var c=a.module("ng.django.rmi",[]);c.provider("djangoRMI",function(){function c(d){a.forEach(d,function(f,g){if(!a.isObject(f))throw new Error("djangoRMI.configure got invalid data");f.hasOwnProperty("url")?(f.headers["X-Requested-With"]="XMLHttpRequest",d[g]=function(c){var d=a.copy(f);if("POST"===d.method){if(c===b)throw new Error("Calling remote method "+g+" without data object");d.data=c}else"auto"===d.method&&(c===b?d.method="GET":(d.method="POST",d.data=c));return e(d)}):c(f)})}var d,e;this.configure=function(a){d=a,c(d)},this.$get=["$http",function(a){return e=a,d}]})}(window.angular),function(a){"use strict";var b=a.module("ng.django.urls",[]);b.service("djangoUrl",["patterns",function(a){function b(a,b){return a.replace(/\([^\)]+\)/g,function(){if(0===b.length)throw"Djangular URL error: Not enough arguments";return b.shift()})}function c(a,b){return b=b||{},a.replace(/\([^\)]+\)/g,function(a){var c=a.match(/<([^>]+)>/)[1];return"undefined"==typeof b[c]?":"+c:b[c]})}this.reverse=function(d,e){var f=a[d];if("undefined"==typeof f)throw"Djangular URL error: No matching URL found";return Array.isArray(e)?b(f,e):c(f,e)}}])}(window.angular),function(a){"use strict";function b(){}var c=a.module("ng.django.websocket",[]);c.service("$websocket",function(){var a;this.connect=function(b){a=new WebSocket(b),a.onopen=this.onopen,a.onmessage=this.onmessage,a.onerror=this.onerror,a.onclose=this.onclose},this.send=function(b){a.send(b)},this.close=function(){a.close()}}),c.provider("djangoWebsocket",function(){var c,d={log:b,warn:b,error:b},e=null;this.setURI=function(a){return c=a,this},this.setHeartbeat=function(a){return e=a,this},this.setLogLevel=function(a){switch(a){case"debug":d=console;break;case"log":d.log=console.log;case"warn":d.warn=console.warn;case"error":d.error=console.error}return this},this.$get=["$websocket","$q","$timeout","$interval",function(b,f,g,h){function i(){d.log("Connecting to "+o),p=f.defer(),b.connect(o)}function j(){try{if(x++,x>3)throw new Error("Too many missed heartbeats.");b.send(e)}catch(a){h.cancel(w),w=null,d.warn("Closing connection. Reason: "+a.message),b.close()}}function k(c,d){u||a.equals(d,c)||b.send(a.toJson(c))}function l(b){a.forEach(b,function(a){"subscribe"===a.substring(0,9)?s=!0:"publish"===a.substring(0,7)&&(t=!0)})}function m(){q.$watchCollection(r,k)}function n(a,b){var d=[c,a,"?"];d.push(b.join("&")),o=d.join("")}var o,p,q,r,s=!1,t=!1,u=!1,v=0,w=null,x=0;return b.onopen=function(){d.log("Connected"),p.resolve(),v=0,e&&null===w&&(x=0,w=h(j,5e3))},b.onclose=function(){d.log("Disconnected"),p.reject(),v=Math.min(v+1e3,1e4),g(function(){b.connect(o)},v)},b.onerror=function(){d.error("Websocket connection is broken!"),b.close()},b.onmessage=function(b){var c;if(b.data===e)return void(x=0);try{c=a.fromJson(b.data)}catch(f){return void d.warn("Data received by server is invalid JSON: "+b.data)}s&&(u=!0,q.$apply(function(){a.extend(q[r],c)}),u=!1)},{connect:function(a,b,c,d){return q=a,l(d),r=b,q[r]=q[r]||{},n(c,d),i(),t&&p.promise.then(m),p.promise}}}]})}(window.angular);